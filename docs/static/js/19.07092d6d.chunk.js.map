{"version":3,"sources":["draftplan/DraftPlan.tsx"],"names":["DraftPlan","divRef","useRef","dpath","useLocation","search","slice","useEffect","div","current","innerHTML","fetch","then","res","text","marked","ref","className"],"mappings":"wNAMe,SAASA,IACtB,IAAMC,EAASC,iBAAuB,MAEhCC,EALS,aAICC,cACiBC,OAAOC,MAAM,GAW9C,OAVAC,qBAAU,WACR,IAAMC,EAAMP,EAAOQ,QACfC,EAAY,uCAChBC,MAAMR,GAAOS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GACf,oBAArBA,EAAIP,MAAM,EAAG,MACfI,EAAYK,IAAOF,IAErBL,EAAIE,UAAYA,OAEjB,CAACP,IAEF,qBAAKa,IAAKf,EAAQgB,UAAU","file":"static/js/19.07092d6d.chunk.js","sourcesContent":["import { useEffect, useRef } from \"react\"\r\nimport './index.css'\r\nimport marked from 'marked'\r\nimport { useLocation } from \"react-router-dom\"\r\nconst DOC_PATH = '/draftdoc/'\r\n\r\nexport default function DraftPlan() {\r\n  const divRef = useRef<HTMLDivElement>(null)\r\n  const loction = useLocation<Location>()\r\n  const dpath = DOC_PATH + loction.search.slice(1)\r\n  useEffect(() => {\r\n    const div = divRef.current!\r\n    let innerHTML = '文章不存在！'\r\n    fetch(dpath).then(res => res.text()).then(res => {\r\n      if (res.slice(0, 15) !== '<!DOCTYPE html>') {\r\n        innerHTML = marked(res)\r\n      }\r\n      div.innerHTML = innerHTML\r\n    })\r\n  }, [dpath])\r\n  return (\r\n    <div ref={divRef} className=\"dp\" />\r\n  )\r\n}"],"sourceRoot":""}