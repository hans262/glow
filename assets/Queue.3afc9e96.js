import{r as a,a as p,j as s}from"./index.1da63547.js";import{S as d}from"./Subject.cf6163b1.js";import{m as c}from"./mergeMap.746d07b1.js";import{i as u}from"./Observable.e24fb2bb.js";import{B as b}from"./button.52476b55.js";import{i as x,t as h}from"./take.8f5f7559.js";import{m as f}from"./map.e2ffbc04.js";import"./tslib.es6.9a4241f2.js";import"./OperatorSubscriber.7b4f405e.js";import"./index.a2923c53.js";import"./isVisible.7ca29fb7.js";import"./render.43ae6a3d.js";import"./AntdIcon.78424b7e.js";import"./Compact.9bf7b630.js";import"./async.ed1da8a1.js";function y(r,t){return u(t)?c(r,t,1):c(r,1)}function J(){const r=a.exports.useRef(null),t=a.exports.useRef(new d),[i,e]=a.exports.useState([]),n=()=>{const o=~~(Math.random()*10);t.current.next(o),e([o,...i])};return a.exports.useEffect(()=>{const m=t.current.pipe(y(l=>x(1e3).pipe(h(1),f(g=>l)))).subscribe(l=>{v(l,r.current)});return()=>{m.unsubscribe()}},[]),p("div",{className:"px-8 py-3",children:[s("div",{className:"text-4xl mb-2",children:"RxJs \u961F\u5217\u5B9E\u73B0"}),s("div",{className:"mb-2",children:s(b,{onClick:n,size:"large",type:"primary",children:"push"})}),s("div",{className:"h-[100px] border-solid border-amber-800 border-2  rounded-lg relative overflow-hidden",ref:r}),p("div",{children:[i.map((o,m)=>s("span",{className:"mx-2",children:o},m)),"      "]})]})}const v=(r,t)=>{const i="rgba("+[Math.random()*256,Math.random()*256,Math.random()*256].join(",")+", 1)",e=document.createElement("div");e.style.position="absolute",e.style.top="25px",e.style.width="50px",e.style.height="50px",e.style.background=i,e.style.borderRadius="50%",e.style.fontSize="16px",e.style.textAlign="center",e.style.fontWeight="bold",e.style.lineHeight="50px",e.style.color="#fff",e.style.boxShadow="1px 1px 1px #bbb",e.innerHTML=r.toString(),e.className="animate-move-right",t.appendChild(e);const n=setTimeout(()=>{t.removeChild(e),clearTimeout(n)},5e3)};export{J as default};
