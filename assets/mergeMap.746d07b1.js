import{m as R}from"./map.e2ffbc04.js";import{e as T,f as x,g as y,b,h as E,i as P}from"./tslib.es6.9a4241f2.js";import{i as c,o as k,O as s,r as C}from"./Observable.e24fb2bb.js";import{c as S,o as G}from"./OperatorSubscriber.7b4f405e.js";var Y=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function M(e){return c(e==null?void 0:e.then)}function U(e){return c(e[k])}function q(e){return Symbol.asyncIterator&&c(e==null?void 0:e[Symbol.asyncIterator])}function D(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function F(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var H=F();function J(e){return c(e==null?void 0:e[H])}function K(e){return T(this,arguments,function(){var n,t,o,a;return x(this,function(f){switch(f.label){case 0:n=e.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,y(n.read())];case 3:return t=f.sent(),o=t.value,a=t.done,a?[4,y(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,y(o)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Q(e){return c(e==null?void 0:e.getReader)}function A(e){if(e instanceof s)return e;if(e!=null){if(U(e))return V(e);if(Y(e))return W(e);if(M(e))return X(e);if(q(e))return L(e);if(J(e))return Z(e);if(Q(e))return $(e)}throw D(e)}function V(e){return new s(function(r){var n=e[k]();if(c(n.subscribe))return n.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function W(e){return new s(function(r){for(var n=0;n<e.length&&!r.closed;n++)r.next(e[n]);r.complete()})}function X(e){return new s(function(r){e.then(function(n){r.closed||(r.next(n),r.complete())},function(n){return r.error(n)}).then(null,C)})}function Z(e){return new s(function(r){var n,t;try{for(var o=b(e),a=o.next();!a.done;a=o.next()){var f=a.value;if(r.next(f),r.closed)return}}catch(i){n={error:i}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}r.complete()})}function L(e){return new s(function(r){N(e,r).catch(function(n){return r.error(n)})})}function $(e){return L(K(e))}function N(e,r){var n,t,o,a;return E(this,void 0,void 0,function(){var f,i;return x(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=P(e),u.label=1;case 1:return[4,n.next()];case 2:if(t=u.sent(),!!t.done)return[3,4];if(f=t.value,r.next(f),r.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i=u.sent(),o={error:i},[3,11];case 6:return u.trys.push([6,,9,10]),t&&!t.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function _(e,r,n,t,o){t===void 0&&(t=0),o===void 0&&(o=!1);var a=r.schedule(function(){n(),o?e.add(this.schedule(null,t)):this.unsubscribe()},t);if(e.add(a),!o)return a}function j(e,r,n,t,o,a,f,i){var u=[],l=0,O=0,w=!1,I=function(){w&&!u.length&&!l&&r.complete()},g=function(v){return l<t?h(v):u.push(v)},h=function(v){a&&r.next(v),l++;var p=!1;A(n(v,O++)).subscribe(S(r,function(d){o==null||o(d),a?g(d):r.next(d)},function(){p=!0},void 0,function(){if(p)try{l--;for(var d=function(){var m=u.shift();f?_(r,f,function(){return h(m)}):h(m)};u.length&&l<t;)d();I()}catch(m){r.error(m)}}))};return e.subscribe(S(r,g,function(){w=!0,I()})),function(){i==null||i()}}function z(e,r,n){return n===void 0&&(n=1/0),c(r)?z(function(t,o){return R(function(a,f){return r(t,a,o,f)})(A(e(t,o)))},n):(typeof r=="number"&&(n=r),G(function(t,o){return j(t,o,e,n)}))}export{Y as a,A as i,z as m};
