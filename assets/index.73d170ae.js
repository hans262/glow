import{v as Dr,h as M,z as Yr,K as $a,$ as na,s as wa,a0 as ba,x as _,a1 as Xr,i as oa,d as Ie,e as Ca,l as Da,a2 as Ra,j as La}from"./index.a2923c53.js";import{r as u,j as K,b as Na,e as Ea,a as Or,F as Ta}from"./index.1da63547.js";import{u as J,c as _e,R as Ma}from"./useMergedState.31cb9ce1.js";import{g as ea}from"./AntdIcon.78424b7e.js";import{i as za}from"./isVisible.7ca29fb7.js";const ct=e=>e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up",vt=(e,a,r)=>r!==void 0?r:`${e}-${a}`;var xa=u.exports.createContext(null),ia=[];function _a(e,a){var r=u.exports.useState(function(){if(!Dr())return null;var m=document.createElement("div");return m}),t=M(r,1),n=t[0],o=u.exports.useRef(!1),s=u.exports.useContext(xa),c=u.exports.useState(ia),d=M(c,2),h=d[0],w=d[1],f=s||(o.current?void 0:function(m){w(function(b){var p=[m].concat(Yr(b));return p})});function x(){n.parentElement||document.body.appendChild(n),o.current=!0}function l(){var m;(m=n.parentElement)===null||m===void 0||m.removeChild(n),o.current=!1}return J(function(){return e?s?s(x):x():l(),l},[e]),J(function(){h.length&&(h.forEach(function(m){return m()}),w(ia))},[h]),[n,f]}var Zr;function Wa(e){if(typeof document>"u")return 0;if(e||Zr===void 0){var a=document.createElement("div");a.style.width="100%",a.style.height="200px";var r=document.createElement("div"),t=r.style;t.position="absolute",t.top="0",t.left="0",t.pointerEvents="none",t.visibility="hidden",t.width="200px",t.height="150px",t.overflow="hidden",r.appendChild(a),document.body.appendChild(r);var n=a.offsetWidth;r.style.overflow="scroll";var o=a.offsetWidth;n===o&&(o=r.clientWidth),document.body.removeChild(r),Zr=n-o}return Zr}function Ha(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var ja="rc-util-locker-".concat(Date.now()),ua=0;function Fa(e){var a=!!e,r=u.exports.useState(function(){return ua+=1,"".concat(ja,"_").concat(ua)}),t=M(r,1),n=t[0];J(function(){if(a){var o=Wa(),s=Ha();$a(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),n)}else na(n);return function(){na(n)}},[a,n])}var sa=!1;function Ba(e){return typeof e=="boolean"&&(sa=e),sa}var la=function(a){return a===!1?!1:!Dr()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Sa=u.exports.forwardRef(function(e,a){var r=e.open,t=e.autoLock,n=e.getContainer;e.debug;var o=e.autoDestroy,s=o===void 0?!0:o,c=e.children,d=u.exports.useState(r),h=M(d,2),w=h[0],f=h[1],x=w||r;u.exports.useEffect(function(){(s||r)&&f(r)},[r,s]);var l=u.exports.useState(function(){return la(n)}),m=M(l,2),b=m[0],p=m[1];u.exports.useEffect(function(){var Z=la(n);p(Z!=null?Z:null)});var $=_a(x&&!b),g=M($,2),E=g[0],B=g[1],T=b!=null?b:E;Fa(t&&r&&Dr()&&(T===E||T===document.body));var ee=null;if(c&&wa(c)&&a){var j=c;ee=j.ref}var y=ba(ee,a);if(!x||!Dr()||b===void 0)return null;var G=T===!1||Ba(),S=c;return a&&(S=u.exports.cloneElement(c,{ref:y})),K(xa.Provider,{value:B,children:G?S:Na.exports.createPortal(S,T)})});function qa(){var e=_({},Ea);return e.useId}var ca=0;function Aa(e){var a=u.exports.useState("ssr-id"),r=M(a,2),t=r[0],n=r[1],o=qa(),s=o==null?void 0:o();return u.exports.useEffect(function(){if(!o){var c=ca;ca+=1,n("rc_unique_".concat(c))}},[]),e||s||t}const Va=e=>({animationDuration:e,animationFillMode:"both"}),Ia=e=>({animationDuration:e,animationFillMode:"both"}),dt=function(e,a,r,t){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${e}-enter,
      ${o}${e}-appear
    `]:Object.assign(Object.assign({},Va(t)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:Object.assign(Object.assign({},Ia(t)),{animationPlayState:"paused"}),[`
      ${o}${e}-enter${e}-enter-active,
      ${o}${e}-appear${e}-appear-active
    `]:{animationName:a,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},Ua=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var va=u.exports.createContext(null);function da(e){return e?Array.isArray(e)?e:[e]:[]}function Qa(e,a,r,t){return u.exports.useMemo(function(){var n=da(r!=null?r:a),o=da(t!=null?t:a),s=new Set(n),c=new Set(o);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[s,c]},[e,a,r,t])}function Ja(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function Ka(e,a,r,t){for(var n=r.points,o=Object.keys(e),s=0;s<o.length;s+=1){var c,d=o[s];if(Ja((c=e[d])===null||c===void 0?void 0:c.points,n,t))return"".concat(a,"-placement-").concat(d)}return""}function fa(e,a,r,t){return a||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function ur(e){return e.ownerDocument.defaultView}function ra(e){for(var a=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var n=ur(r).getComputedStyle(r),o=n.overflowX,s=n.overflowY,c=n.overflow;[o,s,c].some(function(d){return t.includes(d)})&&a.push(r),r=r.parentElement}return a}function ir(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function or(e){return ir(parseFloat(e),0)}function ma(e,a){var r=_({},e);return(a||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement)){var n=ur(t).getComputedStyle(t),o=n.overflow,s=n.overflowClipMargin,c=n.borderTopWidth,d=n.borderBottomWidth,h=n.borderLeftWidth,w=n.borderRightWidth,f=t.getBoundingClientRect(),x=t.offsetHeight,l=t.clientHeight,m=t.offsetWidth,b=t.clientWidth,p=or(c),$=or(d),g=or(h),E=or(w),B=ir(Math.round(f.width/m*1e3)/1e3),T=ir(Math.round(f.height/x*1e3)/1e3),ee=(m-b-g-E)*B,j=(x-l-p-$)*T,y=p*T,G=$*T,S=g*B,Z=E*B,re=0,q=0;if(o==="clip"){var N=or(s);re=N*B,q=N*T}var Y=f.x+S-re,A=f.y+y-q,ge=Y+f.width+2*re-S-Z-ee,ce=A+f.height+2*q-y-G-j;r.left=Math.max(r.left,Y),r.top=Math.max(r.top,A),r.right=Math.min(r.right,ge),r.bottom=Math.min(r.bottom,ce)}}),r}function ha(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function ga(e,a){var r=a||[],t=M(r,2),n=t[0],o=t[1];return[ha(e.width,n),ha(e.height,o)]}function ya(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Ve(e,a){var r=a[0],t=a[1],n,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,t==="l"?n=e.x:t==="r"?n=e.x+e.width:n=e.x+e.width/2,{x:n,y:o}}function Me(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,n){return n===a?r[t]||"c":t}).join("")}function Ga(e,a,r,t,n,o,s){var c=u.exports.useState({ready:!1,offsetX:0,offsetY:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[t]||{}}),d=M(c,2),h=d[0],w=d[1],f=u.exports.useRef(0),x=u.exports.useMemo(function(){return a?ra(a):[]},[a]),l=u.exports.useRef({}),m=function(){l.current={}};e||m();var b=_e(function(){if(a&&r&&e){let Q=function(Te,le){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,Ae=S.x+Te,xr=S.y+le,Jr=Ae+te,Sr=xr+W,kr=Math.max(Ae,ze.left),nr=Math.max(xr,ze.top),Pr=Math.min(Jr,ze.right),Kr=Math.min(Sr,ze.bottom);return Math.max(0,(Pr-kr)*(Kr-nr))},Ee=function(){pe=S.y+L,$e=pe+W,we=S.x+R,De=we+te};var g=a,E=g.style.left,B=g.style.top,T=g.ownerDocument,ee=ur(g),j=_(_({},n[t]),o);g.style.left="0",g.style.top="0";var y;if(Array.isArray(r))y={x:r[0],y:r[1],width:0,height:0};else{var G=r.getBoundingClientRect();y={x:G.x,y:G.y,width:G.width,height:G.height}}var S=g.getBoundingClientRect(),Z=ee.getComputedStyle(g),re=Z.width,q=Z.height,N=T.documentElement,Y=N.clientWidth,A=N.clientHeight,ge=N.scrollWidth,ce=N.scrollHeight,xe=N.scrollTop,ae=N.scrollLeft,W=S.height,te=S.width,ve=y.height,z=y.width,Ue={left:0,top:0,right:Y,bottom:A},Se={left:-ae,top:-xe,right:ge-ae,bottom:ce-xe},X=j.htmlRegion,ne="visible",We="visibleFirst";X!=="scroll"&&X!==We&&(X=ne);var de=X===We,sr=ma(Se,x),fe=ma(Ue,x),P=X===ne?fe:sr,He=de?fe:P;g.style.left=E,g.style.top=B;var je=ir(Math.round(te/parseFloat(re)*1e3)/1e3),ke=ir(Math.round(W/parseFloat(q)*1e3)/1e3);if(je===0||ke===0||Xr(r)&&!za(r))return;var Rr=j.offset,Lr=j.targetOffset,lr=ga(S,Rr),oe=M(lr,2),Qe=oe[0],Je=oe[1],Nr=ga(y,Lr),Ke=M(Nr,2),O=Ke[0],Er=Ke[1];y.x-=O,y.y-=Er;var Tr=j.points||[],cr=M(Tr,2),vr=cr[0],ye=cr[1],me=ya(ye),V=ya(vr),Pe=Ve(y,me),I=Ve(S,V),U=_({},j),R=Pe.x-I.x+Qe,L=Pe.y-I.y+Je,ie=Q(R,L),Fe=Q(R,L,fe),Ge=Ve(y,["t","l"]),dr=Ve(S,["t","l"]),Ze=Ve(y,["b","r"]),F=Ve(S,["b","r"]),Be=j.overflow||{},Ye=Be.adjustX,fr=Be.adjustY,Xe=Be.shiftX,Oe=Be.shiftY,ue=function(le){return typeof le=="boolean"?le:le>=0},pe,$e,we,De;Ee();var mr=ue(fr),er=V[0]===me[0];if(mr&&V[0]==="t"&&($e>He.bottom||l.current.bt)){var he=L;er?he-=W-ve:he=Ge.y-F.y-Je;var rr=Q(R,he),zr=Q(R,he,fe);rr>ie||rr===ie&&(!de||zr>=Fe)?(l.current.bt=!0,L=he,U.points=[Me(V,0),Me(me,0)]):l.current.bt=!1}if(mr&&V[0]==="b"&&(pe<He.top||l.current.tb)){var be=L;er?be+=W-ve:be=Ze.y-dr.y-Je;var ar=Q(R,be),_r=Q(R,be,fe);ar>ie||ar===ie&&(!de||_r>=Fe)?(l.current.tb=!0,L=be,U.points=[Me(V,0),Me(me,0)]):l.current.tb=!1}var qe=ue(Ye),hr=V[1]===me[1];if(qe&&V[1]==="l"&&(De>He.right||l.current.rl)){var H=R;hr?H-=te-z:H=Ge.x-F.x-Qe;var gr=Q(H,L),Wr=Q(H,L,fe);gr>ie||gr===ie&&(!de||Wr>=Fe)?(l.current.rl=!0,R=H,U.points=[Me(V,1),Me(me,1)]):l.current.rl=!1}if(qe&&V[1]==="r"&&(we<He.left||l.current.lr)){var Re=R;hr?Re+=te-z:Re=Ze.x-dr.x-Qe;var yr=Q(Re,L),Hr=Q(Re,L,fe);yr>ie||yr===ie&&(!de||Hr>=Fe)?(l.current.lr=!0,R=Re,U.points=[Me(V,1),Me(me,1)]):l.current.lr=!1}Ee();var Le=Xe===!0?0:Xe;typeof Le=="number"&&(we<P.left&&(R-=we-P.left,y.x+z<P.left+Le&&(R+=y.x-P.left+z-Le)),De>P.right&&(R-=De-P.right,y.x>P.right-Le&&(R+=y.x-P.right+Le)));var Ne=Oe===!0?0:Oe;typeof Ne=="number"&&(pe<P.top&&(L-=pe-P.top,y.y+ve<P.top+Ne&&(L+=y.y-P.top+ve-Ne)),$e>P.bottom&&(L-=$e-P.bottom,y.y>P.bottom-Ne&&(L+=y.y-P.bottom+Ne)));var Ce=S.x+R,tr=Ce+te,se=S.y+L,jr=se+W,wr=y.x,Fr=wr+z,br=y.y,Cr=br+ve,Br=Math.max(Ce,wr),qr=Math.min(tr,Fr),Ar=(Br+qr)/2,Mr=Ar-Ce,Vr=Math.max(se,br),Ir=Math.min(jr,Cr),Ur=(Vr+Ir)/2,Qr=Ur-se;s==null||s(a,U),w({ready:!0,offsetX:R/je,offsetY:L/ke,arrowX:Mr/je,arrowY:Qr/ke,scaleX:je,scaleY:ke,align:U})}}),p=function(){f.current+=1;var E=f.current;Promise.resolve().then(function(){f.current===E&&b()})},$=function(){w(function(E){return _(_({},E),{},{ready:!1})})};return J($,[t]),J(function(){e||$()},[e]),[h.ready,h.offsetX,h.offsetY,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,p]}function Za(e,a,r,t){J(function(){if(e&&a&&r){let w=function(){t()};var n=a,o=r,s=ra(n),c=ra(o),d=ur(o),h=new Set([d].concat(Yr(s),Yr(c)));return h.forEach(function(f){f.addEventListener("scroll",w,{passive:!0})}),d.addEventListener("resize",w,{passive:!0}),t(),function(){h.forEach(function(f){f.removeEventListener("scroll",w),d.removeEventListener("resize",w)})}}},[e,a,r])}function Ya(e,a,r,t,n,o,s,c){var d=u.exports.useRef(e),h=u.exports.useRef(!1);d.current!==e&&(h.current=!0,d.current=e),u.exports.useEffect(function(){var w=oa(function(){h.current=!1});return function(){oa.cancel(w)}},[e]),u.exports.useEffect(function(){if(a&&t&&(!n||o)){var w=!1,f=function(p){var $=p.target;w=s($)},x=function(p){var $=p.target;!h.current&&d.current&&!w&&!s($)&&c(!1)},l=ur(t);l.addEventListener("mousedown",f),l.addEventListener("click",x);var m=ea(r);return m&&(m.addEventListener("mousedown",f),m.addEventListener("click",x)),function(){l.removeEventListener("mousedown",f),l.removeEventListener("click",x),m&&(m.removeEventListener("mousedown",f),m.removeEventListener("click",x))}}},[a,r,t,n,o])}function Xa(e){var a=e.prefixCls,r=e.align,t=e.arrow,n=e.arrowPos,o=t||{},s=o.className,c=o.content,d=n.x,h=d===void 0?0:d,w=n.y,f=w===void 0?0:w,x=u.exports.useRef();if(!r||!r.points)return null;var l={position:"absolute"};if(r.autoArrow!==!1){var m=r.points[0],b=r.points[1],p=m[0],$=m[1],g=b[0],E=b[1];p===g||!["t","b"].includes(p)?l.top=f:p==="t"?l.top=0:l.bottom=0,$===E||!["l","r"].includes($)?l.left=h:$==="l"?l.left=0:l.right=0}return K("div",{ref:x,className:Ie("".concat(a,"-arrow"),s),style:l,children:c})}function Oa(e){var a=e.prefixCls,r=e.open,t=e.zIndex,n=e.mask,o=e.motion;return n?K(Ca,{...o,motionAppear:!0,visible:r,removeOnLeave:!0,children:function(s){var c=s.className;return K("div",{style:{zIndex:t},className:Ie("".concat(a,"-mask"),c)})}}):null}var et=u.exports.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),rt=u.exports.forwardRef(function(e,a){var r=e.popup,t=e.className,n=e.prefixCls,o=e.style,s=e.target,c=e.onVisibleChanged,d=e.open,h=e.keepDom,w=e.onClick,f=e.mask,x=e.arrow,l=e.arrowPos,m=e.align,b=e.motion,p=e.maskMotion,$=e.forceRender,g=e.getPopupContainer,E=e.autoDestroy,B=e.portal,T=e.zIndex,ee=e.onMouseEnter,j=e.onMouseLeave,y=e.ready,G=e.offsetX,S=e.offsetY,Z=e.onAlign,re=e.onPrepare,q=e.stretch,N=e.targetWidth,Y=e.targetHeight,A=typeof r=="function"?r():r,ge=d||h,ce=(g==null?void 0:g.length)>0,xe=u.exports.useState(!g||!ce),ae=M(xe,2),W=ae[0],te=ae[1];if(J(function(){!W&&ce&&s&&te(!0)},[W,ce,s]),!W)return null;var ve=y||!d?{left:G,top:S}:{left:"-1000vw",top:"-1000vh"},z={};return q&&(q.includes("height")&&Y?z.height=Y:q.includes("minHeight")&&Y&&(z.minHeight=Y),q.includes("width")&&N?z.width=N:q.includes("minWidth")&&N&&(z.minWidth=N)),d||(z.pointerEvents="none"),Or(B,{open:$||ge,getContainer:g&&function(){return g(s)},autoDestroy:E,children:[K(Oa,{prefixCls:n,open:d,zIndex:T,mask:f,motion:p}),K(Ma,{onResize:Z,disabled:!d,children:function(Ue){return K(Ca,{motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:$,leavedClassName:"".concat(n,"-hidden"),...b,onAppearPrepare:re,onEnterPrepare:re,visible:d,onVisibleChanged:function(X){var ne;b==null||(ne=b.onVisibleChanged)===null||ne===void 0||ne.call(b,X),c(X)},children:function(Se,X){var ne=Se.className,We=Se.style,de=Ie(n,ne,t);return Or("div",{ref:Da(Ue,a,X),className:de,style:_(_(_(_({"--arrow-x":"".concat(l.x||0,"px"),"--arrow-y":"".concat(l.y||0,"px")},ve),z),We),{},{boxSizing:"border-box",zIndex:T},o),onMouseEnter:ee,onMouseLeave:j,onClick:w,children:[x&&K(Xa,{prefixCls:n,arrow:x,arrowPos:l,align:m}),K(et,{cache:!d,children:A})]})}})}})]})}),at=u.exports.forwardRef(function(e,a){var r=e.children,t=e.getTriggerDOMNode,n=wa(r),o=u.exports.useCallback(function(c){Ra(a,t?t(c):c)},[t]),s=ba(o,r.ref);return n?u.exports.cloneElement(r,{ref:s}):r}),tt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function nt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sa,a=u.exports.forwardRef(function(r,t){var n=r.prefixCls,o=n===void 0?"rc-trigger-popup":n,s=r.children,c=r.action,d=c===void 0?"hover":c,h=r.showAction,w=r.hideAction,f=r.popupVisible,x=r.defaultPopupVisible,l=r.onPopupVisibleChange,m=r.afterPopupVisibleChange,b=r.mouseEnterDelay,p=r.mouseLeaveDelay,$=p===void 0?.1:p,g=r.focusDelay,E=r.blurDelay,B=r.mask,T=r.maskClosable,ee=T===void 0?!0:T,j=r.getPopupContainer,y=r.forceRender,G=r.autoDestroy,S=r.destroyPopupOnHide,Z=r.popup,re=r.popupClassName,q=r.popupStyle,N=r.popupPlacement,Y=r.builtinPlacements,A=Y===void 0?{}:Y,ge=r.popupAlign,ce=r.zIndex,xe=r.stretch,ae=r.getPopupClassNameFromAlign,W=r.alignPoint,te=r.onPopupClick,ve=r.onPopupAlign,z=r.arrow,Ue=r.popupMotion,Se=r.maskMotion,X=r.popupTransitionName,ne=r.popupAnimation,We=r.maskTransitionName,de=r.maskAnimation,sr=r.className,fe=r.getTriggerDOMNode,P=La(r,tt),He=G||S||!1,je=u.exports.useState(!1),ke=M(je,2),Rr=ke[0],Lr=ke[1];J(function(){Lr(Ua())},[]);var lr=u.exports.useRef({}),oe=u.exports.useContext(va),Qe=u.exports.useMemo(function(){return{registerSubPopup:function(v,C){lr.current[v]=C,oe==null||oe.registerSubPopup(v,C)}}},[oe]),Je=Aa(),Nr=u.exports.useState(null),Ke=M(Nr,2),O=Ke[0],Er=Ke[1],Tr=_e(function(i){Xr(i)&&O!==i&&Er(i),oe==null||oe.registerSubPopup(Je,i)}),cr=u.exports.useState(null),vr=M(cr,2),ye=vr[0],me=vr[1],V=_e(function(i){Xr(i)&&ye!==i&&me(i)}),Pe=u.exports.Children.only(s),I=(Pe==null?void 0:Pe.props)||{},U={},R=_e(function(i){var v,C,D=ye;return(D==null?void 0:D.contains(i))||((v=ea(D))===null||v===void 0?void 0:v.host)===i||i===D||(O==null?void 0:O.contains(i))||((C=ea(O))===null||C===void 0?void 0:C.host)===i||i===O||Object.values(lr.current).some(function(k){return(k==null?void 0:k.contains(i))||i===k})}),L=fa(o,Ue,ne,X),ie=fa(o,Se,de,We),Fe=u.exports.useState(x||!1),Ge=M(Fe,2),dr=Ge[0],Ze=Ge[1],F=f!=null?f:dr,Be=_e(function(i){f===void 0&&Ze(i)});J(function(){Ze(f||!1)},[f]);var Ye=u.exports.useRef(F);Ye.current=F;var fr=_e(function(i){F!==i&&(Be(i),l==null||l(i))}),Xe=u.exports.useRef(),Oe=function(){clearTimeout(Xe.current)},ue=function(v){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Oe(),C===0?fr(v):Xe.current=setTimeout(function(){fr(v)},C*1e3)};u.exports.useEffect(function(){return Oe},[]);var pe=u.exports.useState(!1),$e=M(pe,2),we=$e[0],De=$e[1];J(function(i){(!i||F)&&De(!0)},[F]);var mr=u.exports.useState(null),er=M(mr,2),he=er[0],rr=er[1],zr=u.exports.useState([0,0]),be=M(zr,2),ar=be[0],_r=be[1],qe=function(v){_r([v.clientX,v.clientY])},hr=Ga(F,O,W?ar:ye,N,A,ge,ve),H=M(hr,9),gr=H[0],Wr=H[1],Re=H[2],yr=H[3],Hr=H[4],Le=H[5],Ne=H[6],Ce=H[7],tr=H[8],se=_e(function(){we||tr()});Za(F,ye,O,se),J(function(){se()},[ar,N]),J(function(){F&&!(A!=null&&A[N])&&se()},[JSON.stringify(ge)]);var jr=u.exports.useMemo(function(){var i=Ka(A,o,Ce,W);return Ie(i,ae==null?void 0:ae(Ce))},[Ce,ae,A,o,W]);u.exports.useImperativeHandle(t,function(){return{forceAlign:se}});var wr=function(v){De(!1),tr(),m==null||m(v)},Fr=function(){return new Promise(function(v){rr(function(){return v})})};J(function(){he&&(tr(),he(),rr(null))},[he]);var br=u.exports.useState(0),Cr=M(br,2),Br=Cr[0],qr=Cr[1],Ar=u.exports.useState(0),Mr=M(Ar,2),Vr=Mr[0],Ir=Mr[1],Ur=function(v,C){if(se(),xe){var D=C.getBoundingClientRect();qr(D.width),Ir(D.height)}},Qr=Qa(Rr,d,h,w),Q=M(Qr,2),Ee=Q[0],Te=Q[1],le=function(v,C,D,k){U[v]=function(aa){var pr;k==null||k(aa),ue(C,D);for(var Gr=arguments.length,ta=new Array(Gr>1?Gr-1:0),$r=1;$r<Gr;$r++)ta[$r-1]=arguments[$r];(pr=I[v])===null||pr===void 0||pr.call.apply(pr,[I,aa].concat(ta))}},ze=Ee.has("click"),Ae=Te.has("click")||Te.has("contextMenu");(ze||Ae)&&(U.onClick=function(i){var v;Ye.current&&Ae?ue(!1):!Ye.current&&ze&&(qe(i),ue(!0));for(var C=arguments.length,D=new Array(C>1?C-1:0),k=1;k<C;k++)D[k-1]=arguments[k];(v=I.onClick)===null||v===void 0||v.call.apply(v,[I,i].concat(D))}),Ya(F,Ae,ye,O,B,ee,R,ue);var xr=Ee.has("hover"),Jr=Te.has("hover"),Sr,kr;xr&&(le("onMouseEnter",!0,b,function(i){qe(i)}),Sr=function(){ue(!0,b)},W&&(U.onMouseMove=function(i){var v;(v=I.onMouseMove)===null||v===void 0||v.call(I,i)})),Jr&&(le("onMouseLeave",!1,$),kr=function(){ue(!1,$)}),Ee.has("focus")&&le("onFocus",!0,g),Te.has("focus")&&le("onBlur",!1,E),Ee.has("contextMenu")&&(U.onContextMenu=function(i){var v;qe(i),ue(!0),i.preventDefault();for(var C=arguments.length,D=new Array(C>1?C-1:0),k=1;k<C;k++)D[k-1]=arguments[k];(v=I.onContextMenu)===null||v===void 0||v.call.apply(v,[I,i].concat(D))}),sr&&(U.className=Ie(I.className,sr));var nr=_(_({},I),U),Pr={},Kr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Kr.forEach(function(i){P[i]&&(Pr[i]=function(){for(var v,C=arguments.length,D=new Array(C),k=0;k<C;k++)D[k]=arguments[k];(v=nr[i])===null||v===void 0||v.call.apply(v,[nr].concat(D)),P[i].apply(P,D)})});var ka=u.exports.cloneElement(Pe,_(_({},nr),Pr)),Pa={x:yr,y:Hr},pa=z?_({},z!==!0?z:{}):null;return Or(Ta,{children:[K(Ma,{disabled:!F,ref:V,onResize:Ur,children:K(at,{getTriggerDOMNode:fe,children:ka})}),K(va.Provider,{value:Qe,children:K(rt,{portal:e,ref:Tr,prefixCls:o,popup:Z,className:Ie(re,jr),style:q,target:ye,onMouseEnter:Sr,onMouseLeave:kr,zIndex:ce,open:F,keepDom:we,onClick:te,mask:B,motion:L,maskMotion:ie,onVisibleChanged:wr,onPrepare:Fr,forceRender:y,autoDestroy:He,getPopupContainer:j,align:Ce,arrow:pa,arrowPos:Pa,ready:gr,offsetX:Wr,offsetY:Re,onAlign:se,stretch:xe,targetWidth:Br/Le,targetHeight:Vr/Ne})})]})});return a}const ft=nt(Sa);export{ft as T,dt as a,ct as b,vt as g,Ua as i};
