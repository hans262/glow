import{g as M,m as P,r as L,C as T,d as $}from"./index.a2923c53.js";import{o as X,b as I,c as O}from"./isVisible.7ca29fb7.js";import{r as y,j as c,a as N}from"./index.1da63547.js";import{K as j}from"./CloseOutlined.2f07144d.js";function G(i,n,e){var t=e||{},o=t.noTrailing,l=o===void 0?!1:o,p=t.noLeading,u=p===void 0?!1:p,x=t.debounceMode,m=x===void 0?void 0:x,s,C=!1,b=0;function d(){s&&clearTimeout(s)}function z(f){var g=f||{},r=g.upcomingOnly,S=r===void 0?!1:r;d(),C=!S}function D(){for(var f=arguments.length,g=new Array(f),r=0;r<f;r++)g[r]=arguments[r];var S=this,v=Date.now()-b;if(C)return;function a(){b=Date.now(),n.apply(S,g)}function h(){s=void 0}!u&&m&&!s&&a(),d(),m===void 0&&v>i?u?(b=Date.now(),l||(s=setTimeout(m?h:a,i))):a():l!==!0&&(s=setTimeout(m?h:a,m===void 0?i-v:i))}return D.cancel=z,D}function _(i,n,e){var t=e||{},o=t.atBegin,l=o===void 0?!1:o;return G(i,n,{debounceMode:l!==!1})}const H=new j("antSpinMove",{to:{opacity:1}}),B=new j("antRotate",{to:{transform:"rotate(405deg)"}}),R=i=>({[`${i.componentCls}`]:Object.assign(Object.assign({},L(i)),{position:"absolute",display:"none",color:i.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${i.motionDurationSlow} ${i.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${i.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:i.contentHeight,[`${i.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-i.spinDotSize/2},[`${i.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(i.spinDotSize-i.fontSize)/2+2,textShadow:`0 1px 2px ${i.colorBgContainer}`,fontSize:i.fontSize},[`&${i.componentCls}-show-text ${i.componentCls}-dot`]:{marginTop:-(i.spinDotSize/2)-10},"&-sm":{[`${i.componentCls}-dot`]:{margin:-i.spinDotSizeSM/2},[`${i.componentCls}-text`]:{paddingTop:(i.spinDotSizeSM-i.fontSize)/2+2},[`&${i.componentCls}-show-text ${i.componentCls}-dot`]:{marginTop:-(i.spinDotSizeSM/2)-10}},"&-lg":{[`${i.componentCls}-dot`]:{margin:-(i.spinDotSizeLG/2)},[`${i.componentCls}-text`]:{paddingTop:(i.spinDotSizeLG-i.fontSize)/2+2},[`&${i.componentCls}-show-text ${i.componentCls}-dot`]:{marginTop:-(i.spinDotSizeLG/2)-10}}},[`${i.componentCls}-container`]:{position:"relative",transition:`opacity ${i.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:i.colorBgContainer,opacity:0,transition:`all ${i.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${i.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none",["&::after"]:{opacity:.4,pointerEvents:"auto"}}},["&-tip"]:{color:i.spinDotDefault},[`${i.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:i.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(i.spinDotSize-i.marginXXS/2)/2,height:(i.spinDotSize-i.marginXXS/2)/2,backgroundColor:i.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:H,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:B,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${i.componentCls}-dot`]:{fontSize:i.spinDotSizeSM,i:{width:(i.spinDotSizeSM-i.marginXXS/2)/2,height:(i.spinDotSizeSM-i.marginXXS/2)/2}},[`&-lg ${i.componentCls}-dot`]:{fontSize:i.spinDotSizeLG,i:{width:(i.spinDotSizeLG-i.marginXXS)/2,height:(i.spinDotSizeLG-i.marginXXS)/2}},[`&${i.componentCls}-show-text ${i.componentCls}-text`]:{display:"block"}})}),A=M("Spin",i=>{const n=P(i,{spinDotDefault:i.colorTextDescription,spinDotSize:i.controlHeightLG/2,spinDotSizeSM:i.controlHeightLG*.35,spinDotSizeLG:i.controlHeight});return[R(n)]},{contentHeight:400});var F=globalThis&&globalThis.__rest||function(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(i);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(i,t[o])&&(e[t[o]]=i[t[o]]);return e};let w=null;function K(i,n){const{indicator:e}=n,t=`${i}-dot`;return e===null?null:I(e)?O(e,{className:$(e.props.className,t)}):I(w)?O(w,{className:$(w.props.className,t)}):N("span",{className:$(t,`${i}-dot-spin`),children:[c("i",{className:`${i}-dot-item`}),c("i",{className:`${i}-dot-item`}),c("i",{className:`${i}-dot-item`}),c("i",{className:`${i}-dot-item`})]})}function V(i,n){return!!i&&!!n&&!isNaN(Number(n))}const q=i=>{const{spinPrefixCls:n,spinning:e=!0,delay:t=0,className:o,rootClassName:l,size:p="default",tip:u,wrapperClassName:x,style:m,children:s,hashId:C}=i,b=F(i,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[d,z]=y.exports.useState(()=>e&&!V(e,t));y.exports.useEffect(()=>{if(e){const a=_(t,()=>{z(!0)});return a(),()=>{var h;(h=a==null?void 0:a.cancel)===null||h===void 0||h.call(a)}}z(!1)},[t,e]);const D=y.exports.useMemo(()=>typeof s<"u",[s]),{direction:f}=y.exports.useContext(T),g=$(n,{[`${n}-sm`]:p==="small",[`${n}-lg`]:p==="large",[`${n}-spinning`]:d,[`${n}-show-text`]:!!u,[`${n}-rtl`]:f==="rtl"},o,l,C),r=$(`${n}-container`,{[`${n}-blur`]:d}),S=X(b,["indicator","prefixCls"]),v=N("div",{...Object.assign({},S,{style:m,className:g,"aria-live":"polite","aria-busy":d}),children:[K(n,i),u&&D?c("div",{className:`${n}-text`,children:u}):null]});return D?N("div",{...Object.assign({},S,{className:$(`${n}-nested-loading`,x,C)}),children:[d&&c("div",{children:v},"loading"),c("div",{className:r,children:s},"container")]}):v},E=i=>{const{prefixCls:n}=i,{getPrefixCls:e}=y.exports.useContext(T),t=e("spin",n),[o,l]=A(t),p=Object.assign(Object.assign({},i),{spinPrefixCls:t,hashId:l});return o(c(q,{...Object.assign({},p)}))};E.setDefaultIndicator=i=>{w=i};const Y=E;export{Y as S};
